<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/basic.html}">
<div layout:fragment="content">
  <head>
    <meta charset="UTF-8">
    <title>설문 결과</title>
    <link rel="stylesheet" th:href="@{/css/survey/survey.css}" />
  </head>
  <body>
  <div class="survey-container">
    <h2>설문 결과</h2>
    <hr/>
    <div class="answer-details">
      <p><strong>1. 당신이 주로 즐겨하는 서브컬쳐 게임은 무엇입니까? </strong><br><br>
        내 응답: <span th:text="${ansData.responses[0]}"></span></p><br><br>
      <div th:each="entry : ${statistics}" class="survey-option-stat" th:if="${entry.key.startsWith('Q1_')}">
        <div class="progress-bar-container">
          <div class="progress-bar" th:style="'width: ' + ${entry.value} + '%'">
            <span class="progress-bar-text" th:text="${entry.value + ' %'}"></span>
          </div>
          <!-- 항목 이름 출력 부분을 삭제하고 비율만 출력하도록 수정 -->
          <p class="progress-bar-label" th:text="${entry.key.substring(3)}"></p>
        </div>
      </div>
      <hr/>

      <p><strong>2. 몇 개의 서브컬쳐 게임을 플레이 하고 계신가요? </strong><br><br>
        내 응답: <span th:text="${ansData.responses[1]}"></span></p><br><br>
      <div th:each="entry : ${statistics}" class="survey-option-stat" th:if="${entry.key.startsWith('Q2_')}">
        <div class="progress-bar-container">
          <div class="progress-bar" th:style="'width: ' + ${entry.value} + '%'">
            <span class="progress-bar-text" th:text="${entry.value + ' %'}"></span>
          </div>
          <!-- 항목 이름 출력 부분을 삭제하고 비율만 출력하도록 수정 -->
          <p class="progress-bar-label" th:text="${entry.key.substring(3)}"></p>
        </div>
      </div>
      <hr/>

      <p><strong>3. (기타 선택 시) 게임명을 작성해주세요. </strong><br>
        <span th:text="${ansData.responses[2]}"></span></p>
      <hr/>
      <div class="survey-extra">
        <p><strong>응답자 나이: </strong><br><span th:text="${ansData.res.age}"></span></p><hr/>
        <p><strong>하고 싶은 말: </strong><br><span th:text="${ansData.res.location}"></span></p><hr/>
      </div>
    </div>
    <p style="text-align: center; font-weight: bold">설문에 참여해주셔서 감사합니다.</p>
  </div>
  </body>
</div>
</html>
