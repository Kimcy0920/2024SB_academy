<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/basic.html}">
<div layout:fragment="content">

  <head>
    <title>설문조사</title>
  </head>
  <body>
  <div class="survey-container_su">
    <h2>설문조사</h2>
    <hr class="hr_su"/>
    <form th:action="@{/survey/submitted}" method="post">
      <div th:each="q, stat : ${questions}" class="survey-question_su">
        <p>
          <span th:text="${stat.index + 1} + '. ' + ${q.title}"></span><br/>
        </p>

        <div th:if="${q.choice}" class="survey-options_su">
          <div th:each="option : ${q.options}" class="survey-option_su">
            <label>
              <input type="radio" th:name="'responses[' + ${stat.index} + ']'" th:value="${option}" class="su"/>
              <span th:text="${option}"></span>
            </label>
          </div>
        </div>
        <div th:if="${!q.choice}" class="survey-text_su">
          <input type="text" th:name="'responses[' + ${stat.index} + ']'" class="su"/>
        </div>

        <hr class="hr_su"/>
      </div>

      <p>
        <label class="label_su">응답자 나이:<br>
          <input type="number" name="res.age" class="su"/>
        </label>
      </p>
      <p>
        <label class="label_su">하고싶은 말:<br>
          <input type="text" name="res.location" class="su"/>
        </label>
      </p>
      <input type="submit" value="제출" class="submit-btn_su"/>
    </form>
  </div>
  </body>
</div>
</html>
